{{ $targetPath := "css/root.css" }}

{{ $options := ( dict "targetPath" $targetPath "enableSourceMap" true "includePaths" (slice "sass/vendor")) }}

{{ $sassRoot := "sass/root.scss" }}

{{ $styleSource := resources.Get $sassRoot }}

{{ $prodStyle := $styleSource | resources.ToCSS | resources.Minify | resources.Fingerprint }}

{{ $devStyle := $styleSource | resources.ToCSS $options }}

{{ $modernizr := resources.Get "js/modernizr.js" }}

<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode | default "en-us" }}">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  {{ with .Site.Params.description }}
  <meta name="description" content="{{ . }}">
  {{ end }}
  {{ if .Site.IsServer }}
  <link rel="stylesheet" href="{{ $devStyle.Permalink }}">
  {{ else }}
  <link rel="stylesheet" href="{{ $prodStyle.Permalink }}">
  {{ end }}
  <title>{{ .Site.Title }}</title>
  {{ hugo.Generator }}

  <script src="{{ $modernizr.Permalink }}"></script>
  </head>